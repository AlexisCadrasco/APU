<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <body>
        <f:event type="preRenderView"  listener="#{loginCtrl.verificarSesion()}"></f:event>
       <ui:composition template="../../templates/generic.xhtml">
            <ui:define name="content">
             
                <!--<p:messages id="messages" showDetail="true" closable="true" /> -->
                <div class="breadcrumb">
                    <h:link styleClass="nextpath" outcome="/faces/views/home.xhtml">Home</h:link>
                    <h:link styleClass="nextpath" outcome="/faces/views/ppto/listar.xhtml">Presupuesto</h:link>
                    <h:link styleClass="nextpath" outcome="/faces/views/ppto/verPresupuesto.xhtml">Ver</h:link>
                </div>
                <div class="container-fluid" >    
                    <section class="container-fluid content-section" id="crearApu">
                        <h:form id="formCrearPresu">
                            <p:focus for="administracion"/>
                            <p:growl id="growl" showDetail="true" sticky="true" />  
                            <p:fieldset id="panelGeneral" legend="INFORMACIÓN GENERAL DEL PRESUPUESTO" styleClass="">
                                <div class="row">
                                    <div class="col-md-3">
                                        <p:outputLabel for="tipoPresupuesto" value="Tipo de presupuesto" styleClass="text-title-front"/>
                                        <p:inputText  id="tipoPresupuesto" required="true" requiredMessage="Ingrese % de ADMINISTRACIÓN" 
                                                      styleClass="input-readonly" disabled="false" readonly="true" 
                                                      value= "#{presupuestoCtrl.presupuestoEnc.tipopresupuesto.nombre}" 
                                                     placeholder="% Administración">
                                        </p:inputText>
                                    </div>
                                    <div class="col-md-2">
                                        <p:outputLabel for="administracion" value="Porcentaje de Administración" styleClass="text-title-front"/>
                                        <p:inputText  id="administracion" required="true" requiredMessage="Ingrese % de ADMINISTRACIÓN" 
                                                      styleClass="input-readonly" disabled="false" readonly="true" value= "#{presupuestoCtrl.presupuestoEnc.administracion}" 
                                                     placeholder="% Administración">
                                        </p:inputText>
                                    </div>
                                    <div class="col-md-2">
                                        <p:outputLabel for="imprevisto" value="Porcentaje de Imprevisto" styleClass="text-title-front"/>
                                        <p:inputText  id="imprevisto" required="true" requiredMessage="Ingrese % de IMPREVISTO" 
                                                      styleClass="input-readonly" readonly="true" disabled="false" value= "#{presupuestoCtrl.presupuestoEnc.imprevisto}" 
                                                     placeholder="% Imprevisto">
                                        </p:inputText>
                                    </div>
                                    <div class="col-md-2">
                                        <p:outputLabel for="utilidad" value="Porcentaje de Utilidad" styleClass="text-title-front"/>
                                        <p:inputText  id="utilidad" required="true" requiredMessage="Ingrese % de UTILIDAD" 
                                                      styleClass="input-readonly" disabled="false" readonly="true" value= "#{presupuestoCtrl.presupuestoEnc.utilidad}" 
                                                     placeholder="% Utilidad">
                                        </p:inputText>
                                    </div>
                                      <div class="col-md-3">
                                          <p:outputLabel for="multiplicador" value="Valor para el Multiplicador" styleClass="text-title-front"/>
                                        <p:inputText  id="multiplicador" required="false" requiredMessage="Ingrese un nombre para el APU" 
                                                      styleClass="input-readonly" disabled="false" value= "#{presupuestoCtrl.presupuestoEnc.multiplicador}" readonly="true"
                                                      placeholder="Valor Multiplicador" type="number" >
                                        </p:inputText>
                                    </div>
                                </div>
                                <div class="row">
                                     <div class="col-md-12">
                                            <p:outputLabel for="descripcion" value="Nombre del proyecto" styleClass="text-title-front"/>
                                            <p:inputTextarea id="descripcion" rows="4" required="true" value="#{presupuestoCtrl.presupuestoEnc.descripcion}" 
                                                             requiredMessage="Debe ingresar una descripción para el PRESUPUESTO" 
                                                             styleClass="input-readonly" readonly="true" placeholder="Agregue descripción de PRESUPUESTO">
                                            </p:inputTextarea>
                                    </div>
                                </div>
                                <div class="row">
                                     <div class="col-md-3">
                                        <p:outputLabel for="dependencia" value="Dependencia" styleClass="text-title-front"/>
                                        <p:inputText  id="dependencia" required="true" requiredMessage="Ingrese % de ADMINISTRACIÓN" 
                                                      styleClass="input-readonly" disabled="false" readonly="true" value= "#{presupuestoCtrl.presupuestoEnc.entidad.nombre}" 
                                                     placeholder="% Administración">
                                        </p:inputText>
                                    </div>
                                    <div class="col-md-3">
                                        <p:outputLabel for="longitud" value="Valor para la LONGITUD" styleClass="text-title-front"/>
                                        <p:inputText  id="longitud" required="true" requiredMessage="Valor para la LONGITUD" 
                                                      styleClass="input-readonly" readonly="true" disabled="false" value= "#{presupuestoCtrl.presupuestoEnc.posicionx}" 
                                                     placeholder="Valor LONGITUD">
                                        </p:inputText>
                                    </div>
                                    <div class="col-md-3">
                                        <p:outputLabel for="latitud" value="Valor para la LATITUD" styleClass="text-title-front"/>
                                        <p:inputText  id="latitud" required="true" requiredMessage="Valor para la LATITUD" 
                                                      styleClass="input-readonly" readonly="true" disabled="false" value= "#{presupuestoCtrl.presupuestoEnc.posiciony}" 
                                                     placeholder="Valor LATITUD">
                                        </p:inputText>
                                    </div>
                                    <div class="col-md-3">
                                        <p:outputLabel for="cdp" value="Valor para CDP" styleClass="text-title-front"/>
                                        <p:inputText  id="cdp" required="true" requiredMessage="Valor para CDP" 
                                                      styleClass="input-readonly" readonly="true" disabled="false" value= "#{presupuestoCtrl.presupuestoEnc.cdp}" 
                                                      placeholder="Valor CDP">
                                        </p:inputText>
                                    </div>

                                </div>

                            </p:fieldset>
                            <!--p:fieldset id="panelCapitulo" legend="CAPITULOS DEL PRESUPUESTO" styleClass="">
                                <p:panel id="busquedacap" header="Agregar Capitulos">
                                    
                                </p:panel>
                            </p:fieldset-->
                            <!--APUS -->
                            <p:fieldset id="panelDetalle" legend="DETALLE DE APUS DEL PRESUPUESTO" styleClass="">
                                <p:panel id="proyectado" header="APUS DEL AL PRESUPUESTO">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <p:panel id="apu1">
                                                <p:dataTable id="tblApu" editable="true" rowHover="false" var="record1" reflow="true" editMode="cell"
                                                             value="#{presupuestoCtrl.listaPresupuestoDet}" rows="10" paginator="true" emptyMessage="No hay Valores">                                    
                             
                                                    <p:column headerText="Consecutivo" width="6%"> 
                                                        <h:outputText value="#{record1.apumaestro.consecutivo}"/> </p:column>
                                                    <p:column headerText="Nombre APU" width="20%"> 
                                                        <h:outputText value="#{record1.apumaestro.nombre}"/> </p:column>
                                                    <p:column headerText="Medida" width="10%"> 
                                                        <h:outputText value="#{record1.apumaestro.unidadmedida.nombre}"/> </p:column>
                                                    <p:column headerText="Tipo de APU" width="10%"> 
                                                        <h:outputText value="#{record1.apumaestro.tipo.nombre}"/> </p:column>                                                
                                                    <p:column headerText="Capitulo" width="10%">
                                                        <h:outputText value="#{record1.capitulo}"/>
                                                    </p:column>
                                                    <p:column headerText="Cantidad" width="10%">
                                                        <h:outputText value="#{record1.cantidad}"/>
                                                    </p:column>
                                                </p:dataTable>
                                            </p:panel>
                                        </div>
                                    </div>
                                </p:panel>   
                            </p:fieldset>
                            <br/>
                        </h:form>
                    </section>
                </div>
            </ui:define>
        </ui:composition>
    </body>
</html>
