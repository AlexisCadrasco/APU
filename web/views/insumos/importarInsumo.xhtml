<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head></h:head>
    <h:body>
        <ui:composition template="./../../templates/generic.xhtml">
            <ui:define name="content">
                <div class="breadcrumb">
                    <h:link styleClass="nextpath" outcome="/faces/views/home.xhtml">Home</h:link>
                    <h:link styleClass="nextpath" outcome="/faces/views/insumos/listar.xhtml">Insumos</h:link>
                    <h:link styleClass="nextpath" outcome="/faces/views/insumos/importarInsumo.xhtml">Importar</h:link>
                </div>
                <h2 class="title-secundary">Importar datos a las tablas de insumo</h2>
                <p:messages id="messages" showDetail="true" closable="true" />
                <div class="container-fluid">
                    <h:form id="formImport" enctype="multipart/form-data" styleClass="form-table-grayblue" >
                        <div class="col-md-12">    
                            <h:outputLabel value="Solo se pueden cargar archivos (xls / xlsx - Max 2MB): " />
                        </div>
                        <div class="col-md-6">
                            <p:fileUpload skinSimple="true" value="#{fileUploadCtrl.filexls}" 
                                          label="Examinar" accept=".xls, .xlsx" mode="simple"
                                          sizeLimit="35000000" allowTypes="/(\.|\/)(xls|xlsx)$/" />
                        </div>
                        <div class="col-md-12">
                            <p:commandButton id="save" styleClass="btn btn-blue" value="Cargar" ajax="false" update=":valPlano" action="#{fileUploadCtrl.importarExcelInsumo()}" />
                        </div>
                        <div class="col-md-12">
                            <p:inputText  id="valPlano" value="#{fileUploadCtrl.validacionPlano}"/>
                    </div>
                    </h:form>
                    
                    <!--p:dataTable id="tbl" rowHover="true" var="record" value="{insumoCtrl.listaInsumo}"  
                                styleClass="customers" reflow="true" rows="15" paginator="true" widgetVar="insumoTable" 
                                emptyMessage="No hay Valores">
                       <p:column headerText="CÃ³digo" width="10%"> 
                           <h:outputText value="{record.codigo}" /> </p:column>
                       <p:column headerText="Grupo" width="10%" filterBy="{record.grupo.nombre}" sortBy="{record.grupo.nombre}"> 
                           <h:outputText value="{record.grupo.nombre}"/> </p:column>
                       <p:column headerText="Nombre" width="20%"> 
                           <h:outputText value="{record.nombre}"/> </p:column>
                       <p:column headerText="Unidad medida" width="10%"> 
                           <h:outputText value="{record.unidadmedida.nombre}" /> 
                           <f:facet name="filter">
                               <p:selectOneMenu onchange="PF('insumoTable').filter()" styleClass="custom-filter" style="width:150px ">
                                   <f:selectItem itemLabel="All" itemValue="#null}" noSelectionOption="true" />
                                   <f:selectItems value="{insumoCtrl.listaUnidadMedidaItem}" />
                               </p:selectOneMenu>
                           </f:facet>
                       </p:column>
                       <p:column headerText="Precio" width="10%" style="text-align: right" filterBy="{record.precio}" sortBy="{record.precio}"> <h:outputText value="{record.precio}"><f:convertNumber currencySymbol="$" type="currency" /></h:outputText></p:column>
                       <p:column headerText="Estado" width="10%" filterBy="{record.etapa.nombre}" sortBy="{record.etapa.nombre}"> 
                           <h:outputText value="{record.etapa.nombre}" /> 
                       </p:column>
                    </p:dataTable-->
                </div>
            </ui:define>
        </ui:composition>
    </h:body>
</html>